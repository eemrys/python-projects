# Data exploring


```python
%reset -s -f
```


```python
import pandas as pd
import seaborn as sns
%matplotlib inline
import matplotlib.pyplot as plt

plt.style.use('seaborn')
sns.set(style="ticks", color_codes=True)
```


```python
path_to_data = './data/train.csv'
```


```python
data = pd.read_csv(path_to_data, low_memory = False)
```


```python
data.head()
```


```python
data['HasDetections'].value_counts()
```


```python
columns = data.columns.tolist()
```


```python
pd.set_option('display.float_format', lambda x: '%.3f' % x)
data.describe().T
```


```python
columns = data.columns.tolist()
columns = columns[1:-1] #убираем MachineIdentifier (ключ не несет смысла) и таргет
```


```python
data.dtypes
```


```python
columns
```


```python
import numpy as np
cat_features = list()
num_features = list()
for col in columns:
    unique_vals = data[col].value_counts()
    most_pop = unique_vals.iloc[0] / unique_vals.sum() * 100
    print(col, ':', len(unique_vals), ' unique values; most popular accounts for: ', format(most_pop, '.2f'), '%')
    if most_pop > 95:
        continue
    if len(unique_vals) < 300:
        cat_features.append(col)
    elif data[col].dtype == np.float64 or data[col].dtype == np.int64:
        num_features.append(col)
    else:
        cat_features.append(col)
```

### В предыдущем цикле были отброшены признаки, где почти всега одно и то же значение (я поставила порог 95%, или стоило понизить/повысить?), а остальные признаки распределены между двумя группами на основе количества уникальных значений (+ типа данных). Дальше я уже посмотрю на то что получилось и еще раз отберу (так можно? или лучше только в ручную?)


```python
cat_features
```


```python
cat_features.remove('AVProductsInstalled')
num_features.append('AVProductsInstalled')
cat_features.remove('Census_ProcessorCoreCount')
num_features.append('Census_ProcessorCoreCount')
```


```python
num_features
```


```python
num_features = [x for x in num_features if 'Identifier' not in x]
```


```python
num_features
```


```python
_ = data[num_features].hist(figsize=(20,25))
```
